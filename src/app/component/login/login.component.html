<div id="login-container">
    <h2>Login</h2>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline">
            <mat-label>Username</mat-label>
            <input matInput type="Username" formControlName="username" />
            @if (loginForm.controls['username'].errors && loginForm.controls['username'].errors['required']) {
            <mat-error>Username is required.</mat-error>
            }
            @if (loginForm.controls['username'].errors && loginForm.controls['username'].errors['username']) {
            <mat-error>Invalid username format.</mat-error>
            }
        </mat-form-field><br>

        <mat-form-field appearance="outline">
            <mat-label>Password</mat-label>
            <input matInput [type]="showPassword ? 'text' : 'password'" formControlName="password" />
            <mat-icon matSuffix (click)="togglePasswordVisibility()">
                {{showPassword ? 'visibility_off' : 'visibility'}}
            </mat-icon>
            @if (loginForm.controls['password'].errors && loginForm.controls['password'].errors['required']) {
            <mat-error>Password is required.</mat-error>
            }
        </mat-form-field>

        <div>
            <button mat-flat-button type="submit" [disabled]="loginForm.invalid">Login</button>
            @if (loginError) {
            <mat-error>{{ loginError }}</mat-error>
            }
        </div>
    </form>
    <div class="auth-links">
        <p><a routerLink="/signup">Don't have an account? Sign up</a></p>
        <p><a routerLink="/forgot-password">Forgot password?</a></p>
    </div>
</div>